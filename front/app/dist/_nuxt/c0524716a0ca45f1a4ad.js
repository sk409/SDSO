(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{348:function(e,t,r){"use strict";r.r(t);r(83),r(84),r(124);var n=null,o=function(e,t,r){n.projects.map((function(e){return e.Name})).includes(t)?r(new Error("同じ名前のプロジェクトが存在しています")):r()},l={middleware:"auth",data:function(){return{form:{name:""},rules:{name:[{required:!0,message:"プロジェクト名を入力してください"},{validator:o,message:"同じ名前のプロジェクトが存在しています"}]}}},created:function(){var e=this;this.$ajax.get(this.$urls.user,null,{withCredentials:!0},(function(t){var data={user_id:(n=t.data).ID};e.$ajax.get(e.$urls.projects,data,{},(function(e){console.log(e),n.projects=e.data}))}))},methods:{create:function(){var e=this;this.$refs.form.validate((function(t){if(t){var data={name:e.form.name,userID:n.ID};e.$ajax.post(e.$urls.projects,data,{},(function(t){if(200===t.status){var r={userName:n.Name,projectName:e.form.name};e.$ajax.post(e.$urls.repositoriesInit,r,{},(function(t){200===t.status&&(e.$notify.success({message:"プロジェクトを作成しました",duration:3e3}),e.$router.push(e.$routes.dashboardProjects))}))}}))}}))}}},c=r(6),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-75 mt-3 mx-auto"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"プロジェクト名",prop:"name"}},[r("el-input",{attrs:{type:"text"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt-3 text-center"},[r("el-button",{attrs:{type:"primary",click:"create"},on:{click:e.create}},[e._v("作成")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);